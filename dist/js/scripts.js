!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.menuAnimation=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(t){"use strict";var n="querySelector"in document&&"addEventListener"in t,o={menu:"[data-menu-animation]",target:"a",fxClassName:"ma-fx",initiatedClass:"ma-initiated"};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null});var r=function(){var n={},o=!1,t=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(o=arguments[0],t++);for(var e=function(t){for(var e in t)t.hasOwnProperty(e)&&(o&&"[object Object]"===Object.prototype.toString.call(t[e])?n[e]=r(n[e],t[e]):n[e]=t[e])};t<arguments.length;t++){e(arguments[t])}return n};return function(t){var l,e={},s=function(t,e){var n,o,r=t.offsetWidth,a=t.offsetHeight;t.matches("li")?(n=t.offsetLeft,o=t.offsetTop):(n=t.closest("li").offsetLeft,o=t.closest("li").offsetTop),e.setAttribute("style","width: "+r+"px;height: "+a+"px;-webkit-transform: -webkit-translate("+n+"px, "+o+"px);transform: translate("+n+"px, "+o+"px);")};return e.animateMenu=function(t){var a=r(l||o,t||{}),i=document.querySelectorAll(a.menu);!function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(n,t[o],o,t);else for(var r=0,a=t.length;r<a;r++)e.call(n,t[r],r,t)}(i,function(t,e){var n=i[e],o=document.createElement("div"),r=n.querySelector(".is-active");o.classList.add("js-menu-fx",a.fxClassName),n.appendChild(o),s(r,o),n.addEventListener("mouseover",function(t){t.target.matches("ul")||(t.target.closest(l.target)?s(t.target,o):s(r,o))}),n.addEventListener("mouseout",function(t){var e=t.toElement||t.relatedTarget;e.parentNode!=this&&e!=this&&s(r,o)}),setTimeout(function(){n.classList.add(a.initiatedClass)},32)})},e.init=function(t){n&&(l=r(o,t||{}),e.animateMenu(t))},e.init(t),e}});